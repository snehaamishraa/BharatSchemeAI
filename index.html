<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BharatScheme.AI â€“ Government Scheme Finder</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <script type="module" src="translations.js"></script>
  <!-- National Anthem Audio -->
  <audio id="national-anthem" preload="auto">
    <source src="vande-matram-violin-background-music-268744.mp3" type="audio/mpeg">
  </audio>

  <!-- Main Website Container Frame -->
  <div class="main-container-frame">
  
  <!-- GOVERNMENT HEADER -->
  <div class="gov-header">
    <div class="gov-header-content">
      <div class="gov-logo-left">
        <img src="03.jpg" alt="Narendra Modi" class="gov-image">
      </div>
      <div class="gov-text-center">
        <p class="gov-text-hindi">à¤­à¤¾à¤°à¤¤ à¤¸à¤°à¤•à¤¾à¤°</p>
        <p class="gov-text-english">GOVERNMENT OF INDIA</p>
        <p class="ministry-text">Ministry of Government Affairs</p>
      </div>
      <div class="gov-logo-right">
        <img src="360_F_1034820009_4d9vIv2Q4YdaFVXih7cas1qGMfHUVZH6.jpg" alt="Rural India" class="gov-image">
      </div>
    </div>
    
    <!-- Dark Mode Toggle -->
    <button id="theme-toggle" class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark/Light Mode">
      <span class="theme-icon">ğŸŒ™</span>
    </button>
  </div>

  <!-- AUTH PAGE (Login/Register) -->
  <div id="auth-container" class="auth-page">
    <!-- Enhanced Animated Background -->
    <div class="auth-animated-bg">
      <!-- Gradient Waves -->
      <div class="gradient-wave wave-1"></div>
      <div class="gradient-wave wave-2"></div>
      <div class="gradient-wave wave-3"></div>
      
      <!-- Floating Shapes with Glow -->
      <div class="floating-shape shape-1">
        <div class="shape-glow"></div>
      </div>
      <div class="floating-shape shape-2">
        <div class="shape-glow"></div>
      </div>
      <div class="floating-shape shape-3">
        <div class="shape-glow"></div>
      </div>
      <div class="floating-shape shape-4">
        <div class="shape-glow"></div>
      </div>
      <div class="floating-shape shape-5">
        <div class="shape-glow"></div>
      </div>
      <div class="floating-shape shape-6">
        <div class="shape-glow"></div>
      </div>
      
      <!-- Animated Grid Pattern -->
      <div class="grid-pattern"></div>
      
      <!-- Sparkle Effects -->
      <div class="sparkles"></div>
      
      <!-- Tricolor Orbs -->
      <div class="tricolor-orb orb-saffron"></div>
      <div class="tricolor-orb orb-white"></div>
      <div class="tricolor-orb orb-green"></div>
    </div>
    
    <div class="auth-box">
      <div class="auth-header">
        <span class="logo-icon">ğŸ‡®ğŸ‡³</span>
        <h1 data-i18n="bharatscheme">BharatScheme.AI</h1>
        <p class="tagline-text" data-i18n="tagline">Discover Government Schemes Tailored for Your Benefits</p>
        <p class="auth-subtitle" data-i18n="auth_subtitle">Your Guide To Explore Government Schemes</p>
      </div>

      <!-- Language Selector in Auth Page -->
      <div class="auth-language-selector">
        <label>Select Language / à¤­à¤¾à¤·à¤¾ à¤šà¥à¤¨à¥‡à¤‚:</label>
        <select id="auth-language-selector" class="language-selector-auth" onchange="changeLanguage(this.value)">
          <option value="en">ğŸ‡¬ğŸ‡§ English</option>
          <option value="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤‚à¤¦à¥€</option>
          <option value="ta">ğŸ‡®ğŸ‡³ à®¤à®®à®¿à®´à¯</option>
          <option value="te">ğŸ‡®ğŸ‡³ à°¤à±†à°²à±à°—à±</option>
          <option value="kn">ğŸ‡®ğŸ‡³ à²•à²¨à³à²¨à²¡</option>
          <option value="ml">ğŸ‡®ğŸ‡³ à´®à´²à´¯à´¾à´³à´‚</option>
          <option value="mr">ğŸ‡®ğŸ‡³ à¤®à¤°à¤¾à¤ à¥€</option>
          <option value="gu">ğŸ‡®ğŸ‡³ àª—à«àªœàª°àª¾àª¤à«€</option>
          <option value="bn">ğŸ‡®ğŸ‡³ à¦¬à¦¾à¦‚à¦²à¦¾</option>
        </select>
      </div>

      <!-- Auth Tabs -->
      <div class="auth-tabs">
        <button id="tab-login" class="tab-btn active" data-i18n="tab_login">Login</button>
        <button id="tab-register" class="tab-btn" data-i18n="tab_register">Register</button>
      </div>

      <!-- Login Form -->
      <form id="login-form" class="auth-form">
        <div class="form-group">
          <label for="login-email" data-i18n="email">Email</label>
          <input type="email" id="login-email" placeholder="your@email.com" required />
        </div>
        <div class="form-group">
          <label for="login-password" data-i18n="password">Password</label>
          <input type="password" id="login-password" placeholder="Enter password" required />
        </div>
        <button type="submit" class="btn btn-primary btn-block" data-i18n="btn_login">Login</button>
      </form>

      <!-- Register Form -->
      <form id="register-form" class="auth-form" style="display: none;">
        <div class="form-group">
          <label for="register-name" data-i18n="full_name">Full Name</label>
          <input type="text" id="register-name" placeholder="Your name" required />
        </div>
        <div class="form-group">
          <label for="register-email" data-i18n="email">Email</label>
          <input type="email" id="register-email" placeholder="your@email.com" required />
        </div>
        <div class="form-group">
          <label for="register-password" data-i18n="password">Password</label>
          <input type="password" id="register-password" placeholder="Enter password" required />
        </div>
        <div class="form-group">
          <label for="register-confirm" data-i18n="confirm_password">Confirm Password</label>
          <input type="password" id="register-confirm" placeholder="Confirm password" required />
        </div>
        <button type="submit" class="btn btn-primary btn-block" data-i18n="btn_register">Register</button>
      </form>

      <p class="auth-hint" id="auth-message"></p>
    </div>
  </div>

  <!-- SCHEME DETAIL MODAL -->
  <div id="scheme-modal" class="scheme-modal" style="display: none;">
    <div class="scheme-modal-content">
      <button class="scheme-modal-close" onclick="closeSchemeModal()">&times;</button>
      <div id="scheme-detail-content"></div>
    </div>
  </div>

  <!-- APP PAGE (After Login) -->
  <div id="app-container" class="app-page" style="display: none;">
    <!-- Header -->
    <header class="app-header">
      <div class="header-left">
        <span class="logo-icon">ğŸ‡®ğŸ‡³</span>
        <div class="header-title">
          <h1>BharatScheme.AI</h1>
          <p class="tagline-text">Discover Government Schemes Tailored for Your Benefits</p>
        </div>
      </div>
      <div class="header-right">
        <span id="user-name" class="user-name"></span>
        <select id="language-selector" class="language-selector" onchange="changeLanguage(this.value)" title="Select Language">
          <option value="en">ğŸ‡¬ğŸ‡§ English</option>
          <option value="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤‚à¤¦à¥€</option>
          <option value="ta">ğŸ‡®ğŸ‡³ à®¤à®®à®¿à®´à¯</option>
          <option value="te">ğŸ‡®ğŸ‡³ à°¤à±†à°²à±à°—à±</option>
          <option value="kn">ğŸ‡®ğŸ‡³ à²•à²¨à³à²¨à²¡</option>
          <option value="ml">ğŸ‡®ğŸ‡³ à´®à´²à´¯à´¾à´³à´‚</option>
          <option value="mr">ğŸ‡®ğŸ‡³ à¤®à¤°à¤¾à¤ à¥€</option>
          <option value="gu">ğŸ‡®ğŸ‡³ àª—à«àªœàª°àª¾àª¤à«€</option>
          <option value="bn">ğŸ‡®ğŸ‡³ à¦¬à¦¾à¦‚à¦²à¦¾</option>
        </select>
        <button id="audio-toggle-btn" class="btn-audio-toggle" title="Toggle Audio" data-i18n="audio_on">ğŸ”Š Audio On</button>
        <button id="logout-btn" class="btn-logout" data-i18n="btn_logout">Logout</button>
      </div>
    </header>

    <!-- Main Content -->
    <main class="app-main">
      <!-- Profile Section -->
      <section class="section profile-section">
        <h2 class="section-title" data-i18n="your_details">ğŸ“‹ Your Details</h2>
        <form id="profile-form" class="form">
          <div class="form-group">
            <label for="state" data-i18n="state">State</label>
            <select id="state" required>
              <option value="" data-i18n="select_state">Select state</option>
              <!-- Union Territories -->
              <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
              <option value="Chandigarh">Chandigarh</option>
              <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
              <option value="Lakshadweep">Lakshadweep</option>
              <option value="Delhi">Delhi</option>
              <option value="Puducherry">Puducherry</option>
              <option value="Ladakh">Ladakh</option>
              <!-- States -->
              <option value="Andhra Pradesh">Andhra Pradesh</option>
              <option value="Arunachal Pradesh">Arunachal Pradesh</option>
              <option value="Assam">Assam</option>
              <option value="Bihar">Bihar</option>
              <option value="Chhattisgarh">Chhattisgarh</option>
              <option value="Goa">Goa</option>
              <option value="Gujarat">Gujarat</option>
              <option value="Haryana">Haryana</option>
              <option value="Himachal Pradesh">Himachal Pradesh</option>
              <option value="Jharkhand">Jharkhand</option>
              <option value="Karnataka">Karnataka</option>
              <option value="Kerala">Kerala</option>
              <option value="Madhya Pradesh">Madhya Pradesh</option>
              <option value="Maharashtra">Maharashtra</option>
              <option value="Manipur">Manipur</option>
              <option value="Meghalaya">Meghalaya</option>
              <option value="Mizoram">Mizoram</option>
              <option value="Nagaland">Nagaland</option>
              <option value="Odisha">Odisha</option>
              <option value="Punjab">Punjab</option>
              <option value="Rajasthan">Rajasthan</option>
              <option value="Sikkim">Sikkim</option>
              <option value="Tamil Nadu">Tamil Nadu</option>
              <option value="Telangana">Telangana</option>
              <option value="Tripura">Tripura</option>
              <option value="Uttar Pradesh">Uttar Pradesh</option>
              <option value="Uttarakhand">Uttarakhand</option>
              <option value="West Bengal">West Bengal</option>
            </select>
          </div>

          <div class="form-group">
            <label for="age" data-i18n="age">Age</label>
            <input type="number" id="age" min="1" max="120" placeholder="e.g., 35" required />
          </div>

          <div class="form-group">
            <label for="occupation" data-i18n="occupation">Occupation</label>
            <select id="occupation" required>
              <option value="" data-i18n="select_occupation">Select occupation</option>
              <option value="Farmer" data-i18n="farmer">Farmer</option>
              <option value="Student" data-i18n="student">Student</option>
              <option value="Senior Citizen" data-i18n="senior_citizen">Senior Citizen</option>
              <option value="Unemployed" data-i18n="unemployed">Unemployed</option>
              <option value="Other" data-i18n="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="gender" data-i18n="gender">Gender</label>
            <select id="gender" required>
              <option value="" data-i18n="select_gender">Select Gender</option>
              <option value="Male" data-i18n="male">Male</option>
              <option value="Female" data-i18n="female">Female</option>
              <option value="Non-binary" data-i18n="non_binary">Non-binary</option>
              <option value="Prefer not to say" data-i18n="prefer_not_to_say">Prefer not to say</option>
              <option value="Other" data-i18n="other">Other</option>
            </select>
          </div>

          <button type="submit" class="btn btn-primary" data-i18n="btn_save">Save Profile</button>
        </form>
      </section>

      <!-- Results Section -->
      <section class="section results-section" id="results-section" style="display: none;">
        <h2 class="section-title" data-i18n="available_schemes">ğŸ“Š Available Schemes for You</h2>
        <p style="color: #b0b5c1; margin-bottom: 20px; font-size: 14px;">Click on any scheme to see full details</p>
        <div id="results-list" class="results-list"></div>
      </section>

      <!-- Footer -->
      <footer class="app-footer">
        <div class="footer-content">
          <div class="footer-section">
            <h3 data-i18n="feedback">ğŸ’¬ Feedback</h3>
            <p data-i18n="help_improve">Help us improve! Share your feedback at:</p>
            <p><a href="mailto:example@email.com">example@email.com</a></p>
            <p style="font-size: 12px; color: #00f3ff; margin-top: 10px;" data-i18n="suggestions_help">Your suggestions help us serve you better</p>
          </div>
          <div class="footer-section">
            <h3 data-i18n="contact_us">ğŸ“ Contact Us</h3>
            <p><span data-i18n="email_contact">Email: </span><a href="mailto:example@email.com">example@email.com</a></p>
            <p><span data-i18n="phone_contact">Phone: </span>+91-XXXX-XXXXXX</p>
            <p><span data-i18n="address_contact">Address: </span>Example Address, City</p>
          </div>
          <div class="footer-section">
            <h3 data-i18n="about">â„¹ï¸ About</h3>
            <p data-i18n="about_text">BharatScheme.AI helps you discover government schemes you're eligible for</p>
            <p style="font-size: 12px; color: #b0b5c1; margin-top: 10px;" data-i18n="copyright">Â© 2026 BharatScheme.AI. All rights reserved.</p>
          </div>
        </div>
      </footer>

      <!-- Government Disclaimer -->
      <div class="gov-disclaimer">
        <p><strong>Government Schemes Information Portal</strong> â€“ BharatScheme.AI helps you discover and learn about government schemes and their eligibility criteria</p>
      </div>
    </main>
  </div>

  <!-- Chatbot -->
  <div id="chatbot-container" class="chatbot-container">
    <div id="chatbot-header" class="chatbot-header">
      <div class="chatbot-header-content">
        <div class="chatbot-avatar">ğŸ¤–</div>
        <div>
          <h4 data-i18n="chatbot_title">BharatScheme.AI Assistant</h4>
          <p class="chatbot-status" data-i18n="chatbot_status">Online â€¢ Here to help</p>
        </div>
      </div>
      <button id="chatbot-close" class="chatbot-close" onclick="document.getElementById('chatbot-container').classList.remove('active')">âœ•</button>
    </div>
    
    <div id="chatbot-messages" class="chatbot-messages">
      <div class="chatbot-message bot-message">
        <div class="message-avatar">ğŸ¤–</div>
        <div class="message-content">
          <p data-i18n="chatbot_welcome">Namaste! ğŸ™ I'm here to help you find government schemes. How can I assist you today?</p>
        </div>
      </div>
    </div>
    
    <div class="chatbot-input-container">
      <input 
        type="text" 
        id="chatbot-input" 
        class="chatbot-input" 
        placeholder="Type your question..."
        data-i18n-placeholder="chatbot_input_placeholder"
        onkeypress="if(event.key === 'Enter') { event.preventDefault(); sendChatMessage(); }"
      />
      <button id="chatbot-send" class="chatbot-send" onclick="sendChatMessage()">
        <span>ğŸ“¤</span>
      </button>
    </div>
    
    <div class="chatbot-quick-questions">
      <button class="quick-question" data-question="schemes" data-i18n="quick_schemes" onclick="answerQuickQuestion('schemes')">What schemes are available?</button>
      <button class="quick-question" data-question="eligibility" data-i18n="quick_eligibility" onclick="answerQuickQuestion('eligibility')">How do I check eligibility?</button>
      <button class="quick-question" data-question="apply" data-i18n="quick_apply" onclick="answerQuickQuestion('apply')">How to apply?</button>
    </div>
  </div>

  <!-- Chatbot Floating Button -->
  <button id="chatbot-toggle" class="chatbot-toggle" onclick="document.getElementById('chatbot-container').classList.toggle('active'); console.log('Button clicked!');">
    <span class="chatbot-icon">ğŸ’¬</span>
    <span class="chatbot-badge">1</span>
  </button>

  <script type="module" src="/main.js"></script>
  
  <!-- Inline chatbot functionality -->
  <script>
    // Simple chatbot functions that always work
    function sendChatMessage() {
      const input = document.getElementById('chatbot-input');
      const messages = document.getElementById('chatbot-messages');
      
      if (!input || !messages) return;
      
      const text = input.value.trim();
      if (!text) return;
      
      // Add user message
      const userMsg = document.createElement('div');
      userMsg.className = 'chatbot-message user-message';
      userMsg.innerHTML = '<div class="message-avatar">ğŸ‘¤</div><div class="message-content"><p>' + text + '</p></div>';
      messages.appendChild(userMsg);
      
      input.value = '';
      messages.scrollTop = messages.scrollHeight;
      
      // Add bot response
      setTimeout(() => {
        const botMsg = document.createElement('div');
        botMsg.className = 'chatbot-message bot-message';
        let response = 'I can help you discover government schemes! Ask me about eligibility, how to apply, or available schemes. ğŸ˜Š';
        
        if (text.toLowerCase().includes('scheme') || text.toLowerCase().includes('à¤¯à¥‹à¤œà¤¨à¤¾')) {
          response = 'We have 50+ government schemes including PM Kisan, Ayushman Bharat, Sukanya Samriddhi Yojana, and more. Fill your profile to see eligible schemes! ğŸ¯';
        } else if (text.toLowerCase().includes('eligible') || text.toLowerCase().includes('à¤¯à¥‹à¤—à¥à¤¯')) {
          response = '1. Fill your details (age, occupation, gender, state)\\n2. Click Save Details\\n3. We will show schemes you are eligible for\\n4. Click any scheme for full details! âœ…';
        } else if (text.toLowerCase().includes('apply') || text.toLowerCase().includes('à¤†à¤µà¥‡à¤¦à¤¨')) {
          response = 'To apply:\\n1. Click on a scheme card\\n2. Check eligibility and documents\\n3. Click Register on Official Website\\n4. Complete application on government portal ğŸ”—';
        }
        
        botMsg.innerHTML = '<div class="message-avatar">ğŸ¤–</div><div class="message-content"><p style="white-space: pre-line;">' + response + '</p></div>';
        messages.appendChild(botMsg);
        messages.scrollTop = messages.scrollHeight;
      }, 500);
    }
    
    // Dark/Light Mode Toggle
    function toggleTheme() {
      const body = document.body;
      const themeIcon = document.querySelector('.theme-icon');
      
      body.classList.toggle('dark-mode');
      
      // Update icon
      if (body.classList.contains('dark-mode')) {
        themeIcon.textContent = 'â˜€ï¸';
        localStorage.setItem('theme', 'dark');
      } else {
        themeIcon.textContent = 'ğŸŒ™';
        localStorage.setItem('theme', 'light');
      }
    }
    
    // Load saved theme on page load
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme');
      const themeIcon = document.querySelector('.theme-icon');
      
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
        if (themeIcon) themeIcon.textContent = 'â˜€ï¸';
      }
    });
    
    function answerQuickQuestion(question) {
      const messages = document.getElementById('chatbot-messages');
      if (!messages) return;
      
      const questions = {
        schemes: 'What schemes are available?',
        eligibility: 'How do I check eligibility?',
        apply: 'How to apply?'
      };
      
      const answers = {
        schemes: 'We have 50+ government schemes including PM Kisan, Ayushman Bharat, Sukanya Samriddhi Yojana, and more. Fill your profile to see eligible schemes! ğŸ¯',
        eligibility: '1. Fill your details (age, occupation, gender, state)\\n2. Click Save Details\\n3. We will show schemes you are eligible for\\n4. Click any scheme for full details! âœ…',
        apply: 'To apply:\\n1. Click on a scheme card\\n2. Check eligibility and documents\\n3. Click Register on Official Website\\n4. Complete application on government portal ğŸ”—'
      };
      
      // User message
      const userMsg = document.createElement('div');
      userMsg.className = 'chatbot-message user-message';
      userMsg.innerHTML = '<div class="message-avatar">ğŸ‘¤</div><div class="message-content"><p>' + questions[question] + '</p></div>';
      messages.appendChild(userMsg);
      messages.scrollTop = messages.scrollHeight;
      
      // Bot response
      setTimeout(() => {
        const botMsg = document.createElement('div');
        botMsg.className = 'chatbot-message bot-message';
        botMsg.innerHTML = '<div class="message-avatar">ğŸ¤–</div><div class="message-content"><p style="white-space: pre-line;">' + answers[question] + '</p></div>';
        messages.appendChild(botMsg);
        messages.scrollTop = messages.scrollHeight;
      }, 500);
    }
  </script>

  </div>
  <!-- End Main Container Frame -->

</body>
</html>
